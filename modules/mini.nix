{ config, pkgs, lib, ... }:

let
  # Read hostname from local config file (generated by bootstrap.sh)
  hostnameFile = ../hostname.local;
  hostname = if builtins.pathExists hostnameFile
    then lib.strings.trim (builtins.readFile hostnameFile)
    else "mini-default";
in
{
  # Set hostname to mini-${serial_number}
  # The hostname.local file is created by bootstrap.sh with the actual serial number
  networking = {
    hostName = hostname;
    computerName = hostname;
    localHostName = hostname;
  };

  # Mini profile doesn't add extra packages beyond common
  # It's the minimal baseline configuration
}
